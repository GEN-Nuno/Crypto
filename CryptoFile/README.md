# 🔐 CryptoFile - ファイル暗号化ソフト

C、C++、C#を連携したファイル暗号化アプリケーション

## 📋 概要

CryptoFileは、AES-256暗号化を使用してファイルを安全に暗号化・復号化するためのソフトウェアです。
複数言語（C、C++、C#）を連携させた実装となっており、高いセキュリティと使いやすいGUIを提供します。

## ✨ 機能

- ファイルの暗号化・復号化（AES-256）
- 複数ファイルの一括処理
- 直感的なGUIインターフェース
- パスワードベースの暗号化
- 進捗表示とログ機能

## 🛠 技術構成

| 言語 | 役割 | 内容 |
|------|------|------|
| **C** | 暗号処理 | OpenSSLを使用したAES暗号化・復号化関数 |
| **C++** | ファイル処理 | ファイルI/O、バッファ管理、C関数のラッパー |
| **C#** | GUI | WPFを使用したユーザーインターフェース |

## 📁 プロジェクト構成

```
CryptoFile/
├─ crypto_c/              # C: AES暗号化処理
│   ├─ aes.c
│   └─ aes.h
├─ crypto_cpp/            # C++: ファイル処理とDLLインターフェース
│   ├─ CryptoManager.cpp
│   └─ CryptoManager.h
├─ gui_csharp/            # C#: WPF GUIアプリケーション
│   ├─ MainWindow.xaml
│   ├─ MainWindow.xaml.cs
│   ├─ App.xaml
│   ├─ App.xaml.cs
│   └─ CryptoFileGUI.csproj
├─ build/                 # ビルド出力ディレクトリ
├─ CMakeLists.txt         # CMakeビルド設定
├─ build.bat              # ビルドスクリプト
├─ run.bat                # 実行スクリプト
└─ README.md
```

## 🔧 必要な環境

### 開発環境
- Windows 10/11
- Visual Studio 2022 (C++ワークロード)
- .NET 6.0 SDK
- CMake 3.16以上
- OpenSSL

### 実行環境
- Windows 10/11
- .NET 6.0 Runtime

## 🚀 ビルド手順

1. **リポジトリのクローン**
   ```bash
   git clone <repository-url>
   cd CryptoFile
   ```

2. **依存関係のインストール**
   - Visual Studio 2022のインストール
   - .NET 6.0 SDKのインストール
   - OpenSSLのインストール（vcpkgまたは事前ビルド版）

3. **ビルド実行**
   ```cmd
   build.bat
   ```

## 💫 使用方法

1. **アプリケーションの起動**
   ```cmd
   run.bat
   ```
   または、直接実行ファイルを起動：
   ```
   gui_csharp\bin\Release\net6.0-windows\CryptoFileGUI.exe
   ```

2. **ファイルの暗号化**
   - 「ファイル選択」ボタンで暗号化したいファイルを選択
   - 出力フォルダを指定
   - パスワードを入力
   - 「🔒 暗号化」ボタンをクリック

3. **ファイルの復号化**
   - 「ファイル選択」ボタンで復号化したいファイル（.encファイル）を選択
   - 出力フォルダを指定
   - 暗号化時と同じパスワードを入力
   - 「🔓 復号化」ボタンをクリック

## 🔒 セキュリティ仕様

- **暗号化アルゴリズム**: AES-256-ECB
- **鍵導出**: SHA-256でパスワードをハッシュ化
- **パディング**: PKCS#7パディング

⚠️ **注意**: 本実装はECBモードを使用しているため、セキュリティを重視する場合はCBCまたはGCMモードの使用を検討してください。

## 🐛 トラブルシューティング

### ビルドエラー
- OpenSSLが見つからない場合は、vcpkgでインストールするか、環境変数を設定してください
- Visual Studioの C++ワークロードがインストールされていることを確認してください

### 実行時エラー
- .NET 6.0 Runtimeがインストールされていることを確認してください
- CryptoFile.dllが実行ファイルと同じディレクトリにあることを確認してください

## 📝 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 🤝 貢献

プルリクエストやイシューの報告を歓迎します。

## 📧 連絡先

質問や提案がある場合は、イシューを作成してください。
